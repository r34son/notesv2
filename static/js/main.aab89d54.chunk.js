(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{145:function(e,t,a){e.exports=a(232)},150:function(e,t,a){},16:function(e,t){e.exports={protocol:"https",api_url:"notes81.herokuapp.com/api",port:"server port"}},232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),l=(a(150),a(9)),i=a(43),s=a(37),u=a(134),m=a(305),f=a(314),p=a(307),d=a(306),g=a(271),h=a(308),b=a(309),E=a(272),O=a(261),j=a(297),v=a(298),y=a(138),w=a(283),S=a(269),x=a(299),k=a(300),N=a(22),D=a.n(N),C=(a(61),a(99)),T=a(136),I=a(264),_=a(312),z=a(266),F=a(267),H=a(268),L=a(67),P=a.n(L);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var B=Object(O.a)((function(e){return{container:{padding:0,marginBottom:10},chip:{margin:10}}})),R=function(e){var t=e.notes,a=e.setSortedNotes,o=Object(n.useState)({time:"off",favorite:"off"}),c=Object(l.a)(o,2),i=c[0],s=c[1],u=B(),m=function(e){return e},f={time:{off:m,asc:function(e){return e.sort((function(e,t){return new Date(e.updated_at)-new Date(t.updated_at)}))},desc:function(e){return e.sort((function(e,t){return new Date(t.updated_at)-new Date(e.updated_at)}))}},favorite:{off:function(e){return e},on:function(e){return e.filter((function(e){return e.is_favorite}))}}},p=Object.entries(i).map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return f[a][n]})),d=P.a.compose.apply(P.a,[a].concat(Object(T.a)(p)));Object(n.useEffect)((function(){P.a.isEmpty(t)?a(t):d(t.slice())}),[t,i]);var g=function(e){return function(){var t=Object.keys(f[e]),a=(t.indexOf(i[e])+1)%t.length;s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i,Object(C.a)({},e,t[a])))}};return P.a.isEmpty(t)?null:r.a.createElement(I.a,{maxWidth:!1,className:u.container},r.a.createElement(_.a,{className:u.chip,icon:"off"===i.time?null:"asc"===i.time?r.a.createElement(z.a,null):r.a.createElement(F.a,null),deleteIcon:r.a.createElement(H.a,null),label:"\u041f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",onClick:g("time"),onDelete:m}),r.a.createElement(_.a,{className:u.chip,label:"\u0422\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435",onClick:g("favorite"),color:"on"===i.favorite?"primary":"default"}))},A=a(270),q=a(273),W=a(315),G=a(275),K=a(310),M=a(280),U=a(274),V=a(281),Q=a(282),X=a(135),Y=a(14),Z=a.n(Y),$=a(27),ee=a(16),te=a.n(ee),ae=function(e,t){e(!0),console.log("Sending Http request to get notes."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes"),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)}}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(a){var n=a.data;e(!1),console.log("GetNotes data:",n),t(n)})).catch((function(t){console.log(t),e(!1)}))},ne=Object(O.a)({card:{display:"flex",flexDirection:"column",height:285,flex:1,position:"relative",overflow:"visible"},content:{position:"relative",flex:1},close:{position:"absolute",top:0,right:-30,padding:2},flex:{display:"flex",alignItems:"center",marginTop:8}}),re=function(e){var t=e.setOpen,a=e.setData,o=e.setNotes,c=Object(n.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),p=f[0],d=f[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),O=b[0],j=b[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),x=y[0],k=y[1],N=Object(n.useState)(null),C=Object(l.a)(N,2),T=C[0],I=C[1],_=Object(n.useState)(!1),z=Object(l.a)(_,2),F=z[0],H=z[1],L=ne();return r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(A.a,{className:L.card},s&&r.a.createElement(g.a,{className:L.close,onClick:function(){return u(!s)}},r.a.createElement(E.a,null)),r.a.createElement(q.a,{className:L.content},F?r.a.createElement(D.a,{type:"CradleLoader",className:"abs-center",color:"#64ba69",height:80,width:80}):s?r.a.createElement("form",{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),function(e,t,a,n){t(!0),console.log("Sending Http request to add note."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes"),{method:"POST",headers:{Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)},body:Object.keys(e).reduce((function(t,a){return t.append(a,e[a]),t}),new FormData)}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object($.a)(Z.a.mark((function e(r){var o,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.data,c=r.message,t(!1),console.log("AddNote data:",o),a({error:0,message:c}),ae(t,n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),a({error:1,data:e.message}),t(!1)}))}({title:p,text:O,audio:T?new File([T.blob],"audio"):null},H,(function(e){t(!0),a(e)}),o),u(!1),k(!1),j(""),d(""),I(null)}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(G.a,null,r.a.createElement(K.a,{variant:"outlined",label:"Title",value:p,onChange:function(e){return d(e.target.value)},margin:"dense",autoFocus:!0}),r.a.createElement(K.a,{fullWidth:!0,variant:"outlined",label:"Text",value:O,onChange:function(e){return j(e.target.value)},margin:"dense",multiline:!0,rows:4})),r.a.createElement("div",{className:L.flex},r.a.createElement(M.a,{color:x?"default":"primary",size:"small",onClick:function(){return k(!x)}},x?r.a.createElement(V.a,null):r.a.createElement(Q.a,null)),r.a.createElement(X.a,{record:x,className:"sound-wave",onStop:function(e){console.log("onStop: ",new File([e.blob],"audio")),I(e)},onData:function(e){return console.log("onData: ",e)},strokeColor:"#000000",backgroundColor:"#707070"})),r.a.createElement(w.a,{type:"submit",variant:"contained",size:"medium",color:"primary",startIcon:r.a.createElement(U.a,null),style:{marginTop:8,fontSize:12}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443"))):r.a.createElement(g.a,{className:"abs-center",onClick:function(){return u(!0)}},r.a.createElement(U.a,{style:{fontSize:75}})))))},oe=a(284),ce=a(311),le=a(103),ie=a(313),se=a(285),ue=a(286),me=a(287),fe=a(288),pe=a(290),de=a(293),ge=a(294),he=a(295),be=a(296),Ee=a(124),Oe=a.n(Ee),je=a(289),ve=a(291),ye=a(292),we=a(98),Se=a.n(we),xe=(a(183),Object(O.a)({card:{display:"flex",flexDirection:"column",height:285},content:{position:"relative",display:"flex",flexDirection:"column",flex:1},floatRight:{marginLeft:"auto !important"}})),ke=function(e){var t=e.note,a=e.setOpen,o=e.setData,c=e.setNotes,i=e.share;console.log("note",t);var s=Object(n.useState)(!1),u=Object(l.a)(s,2),m=u[0],f=u[1],p=Object(n.useState)(t.title||""),d=Object(l.a)(p,2),h=d[0],b=d[1],E=Object(n.useState)(t.text||""),O=Object(l.a)(E,2),j=O[0],v=O[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),k=x[0],N=x[1],C=Object(n.useState)(!1),T=Object(l.a)(C,2),I=T[0],_=T[1],z=Object(n.useRef)(),F=Object(n.useState)(null),H=Object(l.a)(F,2),L=H[0],P=H[1],J="".concat(window.location.href,"share/").concat(t.hash),B=xe(),R=function(e){e.preventDefault(),function(e,t,a,n){t(!0),console.log("Sending Http request to edit note."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes/").concat(e.id),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)},body:JSON.stringify(e)}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){t(!1),console.log("EditNote data:",e),a(e),ae(t,n)})).catch((function(e){console.log(e),t(!1)}))}({title:h,text:j,id:t.id},N,(function(e){a(!0),o(e)}),c),f(!1)};return r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(A.a,{className:B.card},r.a.createElement(q.a,{className:B.content},k?r.a.createElement(D.a,{type:"CradleLoader",color:"#64ba69",height:80,width:80,className:"abs-center"}):r.a.createElement("form",{style:{flex:1},onSubmit:R},r.a.createElement(W.a,{fullWidth:!0,className:"fullHeight"},r.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary",align:"right",paragraph:!0},Se()(t.updated_at).fromNow()),r.a.createElement(G.a,{className:"fullHeight"},r.a.createElement(K.a,{variant:"outlined",disabled:!m,label:"Title",value:h,onChange:function(e){return b(e.target.value)},onBlur:R,margin:"dense",autoFocus:!0}),r.a.createElement(K.a,{fullWidth:!0,variant:"outlined",disabled:!m,label:"Text",value:j,onChange:function(e){return v(e.target.value)},onBlur:R,margin:"dense",multiline:!0,rows:4}))))),r.a.createElement(oe.a,null,t.audio&&r.a.createElement(r.a.Fragment,null,r.a.createElement("audio",{ref:z,src:t.audio,onEnded:function(){return _(!1)},allow:"autoplay"}),r.a.createElement(M.a,{size:"small",onClick:function(){I?(_(!1),z.current.pause()):(_(!0),z.current.play())},color:I?"default":"primary"},I?r.a.createElement(V.a,null):r.a.createElement(se.a,null))),!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){return function(e,t,a,n){t(!0),console.log("Sending Http request to add to favorite notes."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes/favorite/").concat(e),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)}}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){t(!1),console.log("AddToFavorite data:",e),a(e),ae((function(){return null}),n)})).catch((function(e){console.log(e),t(!1)}))}(t.id,N,(function(e){a(!0),o(e)}),c)}},t.is_favorite?r.a.createElement(ue.a,null):r.a.createElement(me.a,null)),r.a.createElement(g.a,{onClick:function(e){return P(e.currentTarget)}},r.a.createElement(fe.a,null)),r.a.createElement(ce.a,{open:!!L,anchorEl:L,onClose:function(){return P(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(le.a,{className:"share-links"},r.a.createElement(je.a,{url:J},r.a.createElement(ie.a,{title:"Telegram"},r.a.createElement(g.a,null,r.a.createElement(pe.a,null)))),r.a.createElement(ve.a,{url:J},r.a.createElement(ie.a,{title:"VK"},r.a.createElement(g.a,null,r.a.createElement(Oe.a,null)))),r.a.createElement(ye.a,{url:J},r.a.createElement(ie.a,{title:"Email"},r.a.createElement(g.a,null,r.a.createElement(de.a,null)))))),r.a.createElement("div",{className:B.floatRight},r.a.createElement(g.a,{onClick:function(e){f(!m),m&&R(e)}},m?r.a.createElement(ge.a,null):r.a.createElement(he.a,null)),r.a.createElement(g.a,{color:"secondary",onClick:function(){!function(e,t,a,n){t(!0),console.log("Sending Http request to delete note."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)}}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object($.a)(Z.a.mark((function e(r){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(!1),console.log("DeleteNote data:",r),a(r),ae(t,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),t(!1)}))}(t.id,N,(function(e){a(!0),o(e)}),c)}},r.a.createElement(be.a,null)))))))},Ne=Object(O.a)((function(e){return{root:{flexGrow:1},marginRight:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),De=function(e){var t=e.history,a=e.setOpen,o=e.setData,c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],m=s[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),d=p[0],h=p[1],b=Object(n.useState)([]),E=Object(l.a)(b,2),O=E[0],N=E[1];Object(n.useEffect)((function(){localStorage.getItem("authData")&&ae(m,(function(e){h(e),N(e)}))}),[]);var C=Ne();return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{position:"static",style:{height:"50px"}},r.a.createElement(v.a,{style:{minHeight:"100%"}},r.a.createElement(g.a,{edge:"start",className:C.marginRight,color:"inherit"},r.a.createElement(x.a,null)),r.a.createElement(y.a,{variant:"h6",className:C.title},"Notes"),localStorage.getItem("authData")?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:C.marginRight},JSON.parse(localStorage.getItem("authData")).user_name),r.a.createElement(g.a,{onClick:function(){window.confirm("\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?")&&(localStorage.removeItem("authData"),t.push("/login"))}},r.a.createElement(k.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{color:"inherit",component:i.b,to:"/login"},"Login"),r.a.createElement(w.a,{color:"inherit",component:i.b,to:"/signup"},"Register")))),localStorage.getItem("authData")?r.a.createElement("div",{style:{padding:30}},r.a.createElement(R,{notes:d,setSortedNotes:N}),r.a.createElement(S.a,{container:!0,spacing:1,className:u?"home-center":""},u?r.a.createElement(D.a,{type:"CradleLoader",color:"#64ba69",height:80,width:80}):O.map((function(e){return r.a.createElement(ke,{key:e.id,note:e,setOpen:a,setData:o,setNotes:h})})).concat(r.a.createElement(re,{key:"addnote",setOpen:a,setData:o,setNotes:h})))):r.a.createElement("div",null,"Login"))},Ce=a(233),Te=a(301),Ie=a(277),_e=a(276),ze=a(302),Fe=a(303),He=a(304),Le=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},marginb:{marginBottom:e.spacing(3)},label:{display:"flex",justifyContent:"center",fontSize:"18px"}}})),Pe=function(e){var t=e.location,a=e.setOpen,o=e.setData,c=Object(n.useState)(""),i=Object(l.a)(c,2),u=i[0],m=i[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),d=p[0],h=p[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),O=E[0],j=E[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),x=y[0],k=y[1],N=Le();return r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},x?r.a.createElement(D.a,{type:"CradleLoader",color:"#64ba69",height:80,width:80}):localStorage.getItem("authData")?r.a.createElement(s.a,{to:{pathname:"/",state:{from:t}}}):r.a.createElement(S.a,{item:!0},r.a.createElement(le.a,{style:{padding:"30px"},elevation:4},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e,t,a){t(!0),console.log("Sending Http request to login."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/login"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var n=e.data,r=e.message;t(!1),localStorage.setItem("authData",JSON.stringify(n)),console.log("Login data:",n),a({error:0,message:r})})).catch((function(e){var n=e.message;console.log(n),a({error:1,message:n}),t(!1)}))}({email:u,password:d},k,(function(e){a(!0),o(e)}))}},r.a.createElement(W.a,null,r.a.createElement(Ce.a,{filled:!0,className:"".concat(N.marginb," ").concat(N.label)},"Login"),r.a.createElement(Te.a,null),r.a.createElement(G.a,null,r.a.createElement(K.a,{label:"Email",value:u,onChange:function(e){return m(e.target.value)},margin:"normal",autoFocus:!0}),r.a.createElement(W.a,{className:N.marginb},r.a.createElement(Ie.a,{htmlFor:"password"},"Password"),r.a.createElement(_e.a,{id:"password",type:O?"text":"password",value:d,onChange:function(e){return h(e.target.value)},endAdornment:r.a.createElement(ze.a,{position:"end"},r.a.createElement(g.a,{"aria-label":"toggle password visibility",onClick:function(){return j(!O)},onMouseDown:function(e){return e.preventDefault()}},O?r.a.createElement(Fe.a,null):r.a.createElement(He.a,null)))}))),r.a.createElement(w.a,{type:"submit",variant:"contained",size:"medium",color:"primary"},"Login"))))))},Je=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},marginb:{marginBottom:e.spacing(3)},label:{display:"flex",justifyContent:"center",fontSize:"18px"}}})),Be=function(e){e.location;var t=e.history,a=e.setOpen,o=e.setData,c=Object(n.useState)(""),i=Object(l.a)(c,2),s=i[0],u=i[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),p=f[0],d=f[1],g=Object(n.useState)(""),h=Object(l.a)(g,2),b=h[0],E=h[1],O=Object(n.useState)(""),j=Object(l.a)(O,2),v=j[0],y=j[1],x=Object(n.useState)(!1),k=Object(l.a)(x,2),N=k[0],C=k[1],T=Je();return r.a.createElement(S.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},N?r.a.createElement(D.a,{type:"CradleLoader",color:"#64ba69",height:80,width:80}):r.a.createElement(S.a,{item:!0},r.a.createElement(le.a,{style:{padding:"30px",width:300},elevation:4},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e,t,a){t(!0),console.log("Sending Http request to register."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/register"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var n=e.data,r=e.message;t(!1),console.log("Register data:",n),a({error:0,message:r})})).catch((function(e){console.log(e),a({error:1,data:e.message}),t(!1)}))}({email:s,login:p,password:b,password_confirm:v},C,(function(e){a(!0),o(e),e.error||t.push("/login")}))}},r.a.createElement(W.a,{fullWidth:!0},r.a.createElement(Ce.a,{filled:!0,className:"".concat(T.marginb," ").concat(T.label)},"Register"),r.a.createElement(Te.a,null),r.a.createElement(G.a,null,r.a.createElement(K.a,{label:"Email",value:s,onChange:function(e){return u(e.target.value)},autoFocus:!0}),r.a.createElement(K.a,{label:"Login",value:p,onChange:function(e){return d(e.target.value)}}),r.a.createElement(W.a,null,r.a.createElement(Ie.a,{htmlFor:"password"},"Password"),r.a.createElement(_e.a,{id:"password",type:"password",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement(W.a,{className:T.marginb},r.a.createElement(Ie.a,{htmlFor:"password"},"Confirm password"),r.a.createElement(_e.a,{id:"password_confirm",type:"password",value:v,onChange:function(e){return y(e.target.value)}}))),r.a.createElement(w.a,{type:"submit",variant:"contained",size:"medium",color:"primary"},"Sign Up"))))))},Re=a(133),Ae=a.n(Re),qe=function(e){var t=e.match.params.hash,a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],i=o[1],u=Object(n.useState)({}),m=Object(l.a)(u,2),f=m[0],p=m[1];return Object(n.useEffect)((function(){!function(e,t,a){t(!0),console.log("Sending Http request to get note."),fetch("".concat(te.a.protocol,"://").concat(te.a.api_url,"/notes/share/").concat(e),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("authData")).token)}}).then(function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.t0=Error,e.next=4,t.json();case 4:throw e.t1=e.sent.message,new e.t0(e.t1);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var n=e.data;t(!1),console.log("GetNote data:",n),a(n)})).catch((function(e){console.log(e),t(!1)}))}(t,i,p)}),[t]),r.a.createElement(S.a,{container:!0,className:"share-center"},localStorage.getItem("authData")?c?r.a.createElement(D.a,{type:"CradleLoader",color:"#64ba69",height:80,width:80}):!Ae.a.isEmpty(f)&&r.a.createElement(ke,{note:f,share:!0}):r.a.createElement(s.a,{to:"/login"}))},We=Object(u.a)({palette:{type:"dark"}}),Ge=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({error:null,message:null}),u=Object(l.a)(c,2),O=u[0],j=u[1];return r.a.createElement(m.a,{theme:We},r.a.createElement(i.a,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(De,Object.assign({},e,{setOpen:o,setData:j}))}}),r.a.createElement(s.b,{path:"/login",render:function(e){return r.a.createElement(Pe,Object.assign({},e,{setOpen:o,setData:j}))}}),r.a.createElement(s.b,{path:"/signup",render:function(e){return r.a.createElement(Be,Object.assign({},e,{setOpen:o,setData:j}))}}),r.a.createElement(s.b,{path:"/share/:hash",render:function(e){return r.a.createElement(qe,Object.assign({},e,{setOpen:o,setData:j}))}})),r.a.createElement(f.a,{style:{pointerEvents:a?"":"none"},open:a,onClose:function(){return o(!1)},TransitionComponent:function(e){return r.a.createElement(p.a,Object.assign({},e,{direction:"up"}))},autoHideDuration:4e3},r.a.createElement(d.a,{style:{backgroundColor:O.error?"#ef5350":"#66bb6a"},message:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},O.error?r.a.createElement(h.a,{className:"mr20"}):r.a.createElement(b.a,{className:"mr20"}),O.message),action:r.a.createElement(g.a,{color:"inherit",onClick:function(){return o(!1)}},r.a.createElement(E.a,null))})))};c.a.render(r.a.createElement(Ge,null),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.aab89d54.chunk.js.map